{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"51708087-f8f02a96469b9e03eb4d8b8de\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport function getImagesByQuery(query) {\n  return axios.get(BASE_URL, {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: \"photo\",\n      orientation: \"horizontal\",\n      safesearch: true,\n    },\n  })\n  .then(response => response.data);\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nlet lightbox = new SimpleLightbox('.gallery a');\n\nexport function createGallery(images) {\n  const markup = images.map(img => `\n    <a class=\"gallery-item\" href=\"${img.largeImageURL}\">\n      <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\">\n      <div class=\"info\">\n        <p>Likes: ${img.likes}</p>\n        <p>Views: ${img.views}</p>\n        <p>Comments: ${img.comments}</p>\n        <p>Downloads: ${img.downloads}</p>\n      </div>\n    </a>\n  `).join(\"\");\n\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n  lightbox.refresh();\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n  loader.classList.add(\"hidden\");\n}","import { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions.js\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst input = form.querySelector(\"[name='search-text']\");\n\nform.addEventListener(\"submit\", event => {\n  event.preventDefault();\n\n  const query = input.value.trim();\n  if (!query) {\n    iziToast.error({\n      message: \"Please enter a search term\",\n      position: \"topRight\"\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.warning({\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          position: \"topRight\"\n        });\n        return;\n      }\n      createGallery(data.hits);\n    })\n    .catch(error => {\n      iziToast.error({\n        message: \"An error occurred while fetching images\",\n        position: \"topRight\"\n      });\n      console.error(error);\n    })\n    .finally(() => {\n      hideLoader();\n      form.reset()\n    });\n});"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","img","clearGallery","showLoader","hideLoader","form","input","event","iziToast","data","error"],"mappings":"+vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EAAM,IAAIH,EAAU,CACzB,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,EACA,KAAKE,GAAYA,EAAS,IAAI,CACjC,CCbA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAEvC,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EAAO,IAAIE,GAAO;AAAA,oCACCA,EAAI,aAAa;AAAA,kBACnCA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,oBAEhCA,EAAI,KAAK;AAAA,oBACTA,EAAI,KAAK;AAAA,uBACNA,EAAI,QAAQ;AAAA,wBACXA,EAAI,SAAS;AAAA;AAAA;AAAA,GAGlC,EAAE,KAAK,EAAE,EAEVP,EAAQ,mBAAmB,YAAaM,CAAM,EAC9CJ,EAAS,QAAO,CAClB,CAEO,SAASM,GAAe,CAC7BR,EAAQ,UAAY,EACtB,CAEO,SAASS,GAAa,CAC3BR,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASS,GAAa,CAC3BT,EAAO,UAAU,IAAI,QAAQ,CAC/B,CC9BA,MAAMU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,cAAc,sBAAsB,EAEvDA,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMhB,EAAQe,EAAM,MAAM,KAAI,EAC9B,GAAI,CAACf,EAAO,CACViB,EAAS,MAAM,CACb,QAAS,6BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDN,IACAC,IAEAb,EAAiBC,CAAK,EACnB,KAAKkB,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,QAAQ,CACf,QAAS,2EACT,SAAU,UACpB,CAAS,EACD,MACD,CACDV,EAAcW,EAAK,IAAI,CAC7B,CAAK,EACA,MAAMC,GAAS,CACdF,EAAS,MAAM,CACb,QAAS,0CACT,SAAU,UAClB,CAAO,EACD,QAAQ,MAAME,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACbN,IACAC,EAAK,MAAO,CAClB,CAAK,CACL,CAAC"}